@model MountainStyleShop.ModelNH.Model.Produto

@{
    ViewBag.Title = "Visualizar";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-md-3">
        @Html.Action("MenuCategorias", "Componentes")
    </div>

    <div class="col-md-9">
        <div class="thumbnail">
            <img src="@Model.ImagemPrincipal" alt="@Model.Nome" class="img-responsive" width="350" height="150" >
            <div class="caption-full">
                
                <h4 class="pull-right">
                    R$ @Model.Valor.ToString()
                </h4>

                <h4>
                    @Model.Nome
                </h4>
                @if (Model.DisponivelParaCompra())
                {
                    <div class="text-right">
                        <a class="btn btn-success">Comprar <i class="fa fa-shopping-cart" aria-hidden="true"></i></a>
                    </div>
                }
                else
                {
                    <div class="alert alert-warning" role="alert" >
                        <strong>Produto Indisponivel</strong>
                    </div>
                }

                        <b>Descrição:</b><br />
                        <p>@Model.Descricao</p>
                        <b>Fabricante:</b><br />
                        <p>@Model.Fabricante.Nome</p>
                    </div>
            <div class="ratings">
                <p class="pull-right">@Model.QuantidadeAvaliacoes() Avaliações</p>
                <p>
                    @for (int i = 0; i < Convert.ToInt32(Math.Floor(@Model.MediaNotasAvaliacao())); i++)
                    {
                        <span class="glyphicon glyphicon-star"></span>
                    }
                    @for (int i = 0; i < Convert.ToInt32(Math.Floor(Model.MediaNotasFatamAvaliacao())); i++)
                    {
                        <span class="glyphicon glyphicon-star-empty"></span>
                    }

                    @Model.MediaNotasAvaliacao().ToString("N1")
                </p>
            </div>
        </div>
        <div class="well">
            @Html.Action("PainelAvaliacoesProduto", "Avaliacao", new { idProduto = @Model.Id })
            <div id="InseriAvaliacao">
                @Html.Action("FormularioInseriAvaliacao", "Avaliacao", new { idProduto = @Model.Id })
            </div>
        </div>

        
    </div>
</div>